# Implementing OGC&#8482; GeoPose 1.0
07.02.2023 Steve Smyth <steve@opensiteplan.org>

One of the questions that I often hear is "How should I implement software that makes or manipulates GeoPoses?" This post is an answer in the form of a tutorial. It may not describe exactly the software you may need to build but I hope it gives you the necessary building blocks to see how you might proceed. 

##	The OGC GeoPose 1.0 Standard

https://docs.ogc.org/dis/21-056r10/21-056r10.html[OGC GeoPose 1.0] is a draft international standard for a family of JSON data objects representing the position and orientation of real or virtual entities. There are eight independent forms described in the standard. There are no dependencies between the forms. Each may be implemented independently. There is no requirement to implement any specific form or number of forms.

This tutorial describes one template for developing a software implementation using any one of many modern object-oriented programming languages. The main focus is on a Typescript implementation. It is accompanied by a parallel implementation in C#, targeting open-source .NET 6.

This tutorial only touches briefly of the **use** of GeoPose - another important topic.

## Use Cases

Here are some examples of use cases where GeoPose can play a role.

## Development Goals

This goal of this document is to provide aa working example of one of many possible templates for developing software that works well with OGC GeoPose 1.0. There are unlimited approaches to design. The OGC GeoPose 1.0 standard does not specify anything about software design or language. This document describes an approach to implementation based on an easly extended  object-oriented design. 

### Implement structures and processes that can work with GeoPose 1.X



#### Add GeoPose to applications

#### Integrate with external coordinate transformation databases and libraries

1.	GDAL
2.	Proj
3.	

#### Serialize and deserialize from OGC GeoPose 1.0

#### Experiment with possible new features

### Wide range of languages

#### Typescript/Javascript

#### C# targeting .NET 6

#### C++

#### Java

#### Swift

#### Kotlin

#### Python

##  Architecture

Approach is one of many possible implementations. My primary consideration is a simple and completely hierarchical design - patterned to meet the capibilities of common object-oriented languages. I also wanted to make it possible to consider individual parts in isolation and then to assemble them into a GeoPose tree.

I describe the parts in reverse order of dependency. By the time you get to the GeoPose, there are enough elements to start assembling them into the final structures.

### Supporting Datatypes

This is the place to start.

There are two simple datatypes that encapsulate an identifier and a time instant: PoseID and TimeValue. The design of these is dependent on the application domain and the need to interoperate with other systems. The GeoPose 1.0 standard does not specify any identifier and it defines a "valid Time" for only some of the GeoPose forms. Experience with the GeoPose since the initial development shows the utility of references to GeoPoses and to having times associated with many individual GeoPoses. The design of these two elements can be extended to meet specialized needs.


[.left]
.The PoseID and UnixTime Support Classes
image::support.png[Support Classes, 400, 256]



#### PoseID
    
    PoseID has a single property - an id string.

#### UnixTime

    UnixTime has a single property - a string representation of the number of Unix time seconds multiplied by 1 000 for millisecond resolution.


## Development Outline

* Supporting Datatypes
* Positions
* Frame Transforms
* Orientations
* Abstract GeoPose
* Basic GeoPoses
* Advanced GeoPose
* Local Pose


## Detailed Steps using Typescript as an Example

## Supporting Datatypes

## Positions

### Frame Transforms

### Orientations

#### Yaw, Pitch, Roll

#### Unit Quaternions

### GeoPose

### Basic GeoPoses

#### YPR

#### Quaternion

### Advanced GeoPose

### Local [Geo]Pose

## Testing

## Examples

### Typescript

### C#

## References

Typescript

C#

.NET 6

C++

Java

Kotlin

Python

Swift
